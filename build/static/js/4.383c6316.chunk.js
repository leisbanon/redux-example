webpackJsonp([4],{125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"List",function(){return c}),n.d(t,"SubHeader",function(){return i});var r=n(34),o=n.n(r),a=function(e){return o()({loader:function(){return n(129)("./"+e)},loading:function(){return null}})},c=a("list/list"),i=a("subHeader/subHeader.jsx")},126:function(e,t,n){"use strict";e.exports=n(127)},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(0)),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(e){function t(){return o(this,t),c(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component),s=function(){return function(e){return e}},u=function(e,t){return e===t},l=function(){},p=function(e){return e};t.AppContainer=i,t.hot=s,t.areComponentsEqual=u,t.setConfig=l,t.cold=p},129:function(e,t,n){function r(e){var t=o[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./":[125],"./index":[125],"./index.js":[125],"./list/list":[121,13],"./list/list.css":[130,15],"./list/list.jsx":[121,13],"./subHeader/subHeader":[128,14],"./subHeader/subHeader.jsx":[128,14]};r.keys=function(){return Object.keys(o)},r.id=129,e.exports=r},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),i=n.n(c),s=n(38),u=n(1),l=n.n(u),p=n(126),f=(n.n(p),n(125)),d=n(35),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={store:""},n}return a(t,e),m(t,[{key:"fetchUserName",value:function(){var e=this;this.props.dispatch(Object(d.d)("\u5f20\u4e09\u674e\u56db\u738b\u9ebb\u5b50")).then(function(){e.setState({store:e.context.store.getState()})})}},{key:"componentDidMount",value:function(){this.setState({store:this.context.store.getState()})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(f.SubHeader,{title:"\u5f02\u6b65 Action"}),i.a.createElement("p",null,i.a.createElement("strong",null,"\u5f53\u524d\u5e94\u7528Store State Data:")),i.a.createElement("p",null,JSON.stringify(this.state.store)),i.a.createElement("p",null,i.a.createElement("button",{onClick:this.fetchUserName.bind(this)},"\u53d1\u8d77\u5f02\u6b65Action \u5904\u7406 => add redux store state username")),i.a.createElement("p",{className:"indent"},"\u5728\u57fa\u7840\u7684\u5b9e\u4f8b\u6559\u7a0b\u4e2d\u8bf4\u660e\u4e86\u6211\u4eec\u7684\u5982\u679c\u521b\u5efaaction \u51fd\u6570\uff0c\u5982\u679c\u4f60\u5bf9 Action \u7684\u6982\u89c8\u8fd8\u4e0d\u8fc7\u6e05\u6670\uff0c\u90a3\u4e48\u63a8\u8350\u8fd8\u662f\u5148\u770b\u524d\u9762\u7684\u4ecb\u7ecd\u548c\u4f7f\u7528\u3002\u4f46\u662f\u8be5\u51fd\u6570\u662f\u540c\u6b65\u7684\u3002\u5728\u67d0\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7684\u6784\u5efa\u51fd\u6570\u53ef\u80fd\u662f\u9700\u8981\u901a\u8fc7\u7f51\u7edc\u8bf7\u6c42\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u786e\u5b9a\u6211\u4eec\u7684\u6784\u5efa\u51fd\u6570\u7684\u683c\u5f0f\uff0c\u6bd4\u5982\u9700\u8981\u4ece\u63a5\u53e3\u8bf7\u6c42\u4e2d\u83b7\u53d6\u6211\u4eec\u7684\u7528\u6237\u59d3\u540d\uff0c\u8fd9\u5c31\u9700\u8981\u4e00\u4e2a\u5f02\u6b65\u7684\u5904\u7406\u7684\u8fc7\u7a0b\u3002"),i.a.createElement("p",{className:"indent"},"\u672c\u7ae0\u8282\u63cf\u8ff0\u6211\u4eec\u5982\u679c\u6784\u5efa\u6211\u4eec\u7684\u5f02\u6b65Action \u51fd\u6570\uff0c\u5373\u5f02\u6b65Action\uff0c\u8fd9\u662f\u9ad8\u7ea7\u8fdb\u9636\u90e8\u5206\u7684\u5185\u5bb9\u3002\u5f53\u7136\u8fd9\u4e0d\u662f\u4e00\u5b9a\u9700\u8981\u505a\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5c06\u5f02\u6b65\u8bf7\u6c42\u7684\u8fc7\u7a0b\u5728\u6211\u4eec\u7684component \u4e2d\uff0c\u7136\u540e\u8c03\u7528\u6211\u4eec\u7684Action \u6784\u5efa\u51fd\u6570\u5e76\u4f20\u5165\u9700\u8981\u7684\u6570\u636e\u3002\u4f46\u662f\u4f7f\u7528\u5f02\u6b65\u7684\u5904\u7406\u51fd\u6570\u4f1a\u65f6\u5f88\u597d\u7684\u9009\u62e9\uff0c\u8fd9\u8ba9\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\uff0c\u4ee5\u53ca\u4fdd\u6301\u826f\u597d\u7684\u4ee3\u7801\u6574\u6d01\u5ea6\u3002\u6211\u4eec\u5728\u53ef\u4ee5Action\u4e2d\u5c31\u53d1\u8d77 dispatch \u3002\u8fd9\u9700\u8981\u6211\u4eec\u5b89\u88c5 redux-thunk. "),i.a.createElement("pre",null,"",i.a.createElement("span",{className:"color-green"},"1\u3001\u6784\u5efa\u6211\u4eec\u7684\u5f02\u6b65 Action \u51fd\u6570\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528redux-thunk\uff0c\u6216\u8005\u4e5f\u6709\u5176\u4ed6\u5904\u7406\u5f02\u6b65Action \u7684\u65b9\u5f0f\u3002\u5f53\u7136\u6211\u4eec\u8fd8\u662f\u63a8\u8350\u4f7f\u7528\u5b83\uff0c\u5b83\u662fReact \u5b98\u7f51\u63d0\u4f9b\u7684\u4e00\u4e9b\u4e2d\u95f4\u4ef6\u3002\u9996\u5148\u6211\u4eec\u9700\u8981\u5b89\u88c5\u5b83\uff1a"),"\n\n                    npm i redux-thunk --save-dev\n                    "),i.a.createElement("strong",null,"store.js\uff1a"),i.a.createElement("pre",null,i.a.createElement("div",{className:"color-green"},"2\u3001\u5728\u6784\u5efa\u6211\u4eecStore \u4ed3\u5e93\u662f\u52a0\u8f7d\u6211\u4eec\u7684\u4e2d\u95f4\u4ef6\u7a0b\u5e8f\uff1aredux-thunk\uff1a"),i.a.createElement("code",null,"\n                    import {createStore,applyMiddleware} from 'redux'\n                    import reducer from './reducers'\n\n                    import thunkMiddleware from 'redux-thunk'\n\n                    const store = createStore(\n                        reducer,\n                        applyMiddleware(\n                            ",i.a.createElement("span",{className:"color-green"},"// \u5f15\u5165redux-thunk middleware\uff0c\u5141\u8bb8\u6211\u4eec\u5f02\u6b65\u5904\u7406Action\u3002"),"\n                            thunkMiddleware\n                        ),\n                    );\n                    ")),i.a.createElement("strong",null,"action.js\uff1a"),i.a.createElement("pre",null,i.a.createElement("div",{className:"color-green"},"3\u3001\u6784\u5efa\u6211\u4eec\u7684\u5f02\u6b65Action \u5904\u7406\u51fd\u6570fetchUserName\u3002"),i.a.createElement("code",null,"\n                    ",i.a.createElement("span",{className:"color-green"},"// \u521b\u5efaAction \u51fd\u6570 => \u7528\u6237\u59d3\u540d"),"\n                    export const userName = (text) => {\n                        return {\n                            type:user.userName,\n                            text\n                        }\n                    }\n\n                    ",i.a.createElement("span",{className:"color-green",style:{whiteSpace:"normal"}},"// \u5b9a\u4e49\u5f02\u6b65Action \u5904\u7406\u51fd\u6570 => \u66f4\u65b0\u7528\u6237\u540d\u3002\u5b89\u88c5\u4e86redux-thunk \u4e2d\u95f4\u4ef6\uff0c\u90a3\u4e48\u5728\u521b\u5efaAction  \u51fd\u6570\u65f6\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u8c03\u7528\u4e00\u4e2adispatch()\u51fd\u6570\uff0c\u4ece\u800c\u5728Action \u4e2d\u5c31\u53ef\u89e6\u53d1diapatch. "),"\n                    export const fetchUserName = () => {\n                        return dispatch => {\n                            ",i.a.createElement("span",{className:"color-green"},"// Promise \u6a21\u62df\u5f02\u6b65\u7f51\u7edc\u8bf7\u6c42\u7684\u5904\u7406"),"\n                            return new Promise((resolve,reject) => {\n                                setTimeout(() => {\n                                    let username = '\u5f20\u4e09\u674e\u56db\u738b\u9ebb\u5b50';\n                                    resolve(username);\n                                }, 1000);\n                            }).then(v => {\n                                dispatch(userName(v));\n                            })\n                        }\n                    }\n                    ")),i.a.createElement("pre",null,i.a.createElement("div",{className:"color-green"},"4\u3001\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u8c03\u7528\u521b\u5efa\u7684\u5f02\u6b65Action \u5904\u7406\u51fd\u6570\u3002\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\uff0cthunk \u7684\u4e00\u4e2a\u4f18\u70b9\u5c31\u662f\u53ef\u4ee5\u518d\u4e00\u6b21\u88abdispatch"),i.a.createElement("code",null,"\n                    import {fetchUserName} from '@/store/action'\n\n                    fetchUserName() {\n                        this.props.dispatch(fetchUserName()).then(() => {\n                            // dispatch \u56de\u8c03\n                        })\n                    }\n                    ")))}}]),t}(i.a.Component);h.contextTypes={store:l.a.object},t.default=Object(p.hot)(e)(Object(s.b)()(h))}.call(t,n(33)(e))}});
//# sourceMappingURL=4.383c6316.chunk.js.map